.container
  h2 {{ $ctrl.pageName }} 
  .row(ng-show='$ctrl.pageName=="Shopping Cart"')
    .col-md-6
      form(name='cart', novalidate='')
        .panel.panel-default(aria-labelledby='cartPanelTitle')
          .panel-heading
            #cartPanelTitle.panel-title 
              ng-pluralize(count='$ctrl.Cart.getTotalItems()', when="{'0': 'No items in your cart', '1': '1 item in your cart','other': '{{ $ctrl.Cart.getTotalItems() }} items in your cart'}")
          .panel-body
            table.table.table-hover.table-striped
              thead
                tr
                  th.what-column What
                  th Each
                  th &nbsp;&nbsp;&nbsp;Qty
                  th.extd Amount
                  th &nbsp;
              tbody
                tr(ng-show='$ctrl.Cart.isEmpty()')
                  td(colspan='4') There are no items in your cart.
                tr(ng-repeat='cartItem in $ctrl.Cart.cartItems track by $index')
                  td.what.vert-align {{ cartItem.name }}
                  td.vert-align {{ cartItem.price | currency:"$":0 }}
                  td.vert-align
                    input.form-control.qty(ng-model='cartItem.quantity', ng-change="$ctrl.updateQuantity('{{ cartItem.quantity }}', cartItem)", name='quantity', type='number', maxlength='2', min='1', max='10', required='', step='1')
                  td.extd.vert-align {{ cartItem.getTotal() | currency:"$":0 }}
                  td.vert-align
                    a(ng-click='$ctrl.Cart.removeItem($index)')
                      span.glyphicon.glyphicon-trash.pull-right.has-error
              tfoot
                tr
                  td.total(colspan='4') Total&nbsp;&nbsp;{{ $ctrl.Cart.getTotalCost() | currency:"$":0 }}
          .panel-footer
            input.btn.btn-default(ng-click='$ctrl.keepShopping()', type='button', name='keepShopping', value='Keep Shopping')
            input.btn.btn-warning.pull-right(ng-click='$ctrl.checkOut()', type='button', name='checkOut', value='Check Out Â»', ng-disabled='$ctrl.Cart.isEmpty()')
    .col-md-6
      form(name='checkout', ng-submit='$ctrl.placeOrder(checkout)', novalidate='')
        .panel.panel-default(aria-labelledby='paymentPanelTitle')
          .panel-heading
            #paymentPanelTitle.panel-title Payment Info
          .panel-body
            .row
              .form-group.col-xs-6
                label(for='card-number') Credit card number
                .form-control.card-number(id='card-number')
                // div#ccNumber.form-control.card-number(name='ccNumber', ng-model='$ctrl.paymentInfo.ccNumber', ng-pattern='/^[0-9]+$/', ng-minlength='15', ng-maxlength='19', maxlength='19', autofocus='', autocomplete='cc-number', required='', type='tel', placeholder='Debit/credit card number')
                //.help-block.has-error(ng-messages='checkout.ccNumber.$error', ng-show='checkout.ccNumber.$dirty || checkout.$submitted', role='alert')
                  div(ng-message='required') Please provide a card number.
                  div(ng-message='minlength') Card number must at least 15 digits.
                  div(ng-message='maxlength') Card number must be less than 19 digits.              
                  div(ng-message='pattern') Please only enter numbers.
              .form-group.col-xs-3
                label(for='expiration-date') Expires
                .form-control(id='expiration-date')
                  //.input-group(style='margin-bottom: 0px!important')
                  // input.form-control(name='ccExpMonth', ng-model='$ctrl.paymentInfo.ccExpMonth', placeholder='MM', type='tel', maxlength='2', required='', autocomplete='cc-exp-month')
                  //span.input-group-addon /
                  //input.form-control(name='ccExpYear', ng-model='$ctrl.paymentInfo.ccExpYear', placeholder='YY', type='tel', maxlength='2', required='', autocomplete='cc-exp-year')
                  //.help-block.has-error(ng-messages='checkout.ccExpMonth.$error', ng-show='checkout.$submitted', role='alert')
                  // div(ng-message='required') Please select a month for your card&apos;s expiration date.
                  //.help-block.has-error(ng-messages='checkout.ccExpYear.$error', ng-show='checkout.$submitted', role='alert')
                    // div(ng-message='required') Please select a year for your card&apos;s expiration date.
              .form-group.col-xs-2
                label(id='cvv') CVV
                .form-control(id='cvv')
                //input.form-control.cvv(name='ccCSC', ng-model='$ctrl.paymentInfo.ccCSC', required='', ng-pattern='/^[0-9]+$/', ng-minlength='3', autocomplete='cc-csc', type='text', maxlength='4', placeholder='CSC')
                //.help-block.has-error(ng-messages='checkout.ccCSC.$error', ng-show='checkout.ccCSC.$dirty || checkout.$submitted', role='alert')
                  div(ng-message='required') Please provide the card security code.            
                  div(ng-message='pattern') Please only enter numbers.
                  div(ng-message='minlength') Must be at least 3 digits.
            .row
              .form-group.col-xs-6
                label(for='firstName') Purchaser&apos;s first name
                input.form-control(id='firstName', name='firstName', ng-model='$ctrl.purchaser.firstName', required='', autocomplete='cc-given-name', type='text', maxlength='20', placeholder='First name')
                .help-block.has-error(ng-messages='checkout.firstName.$error', ng-show='checkout.firstName.$dirty || checkout.$submitted', role='alert')
                  div(ng-message='required') Please provide the cardholder&apos;s first name.
              .form-group.col-xs-6
                label(for='lastName') Last name
                input.form-control(id='lastName', name='lastName', ng-model='$ctrl.purchaser.lastName', required='', autocomplete='cc-family-name', type='text', maxlength='20', placeholder='Last name')
                .help-block.has-error(ng-messages='checkout.lastName.$error', ng-show='checkout.lastName.$dirty || checkout.$submitted', role='alert')
                  div(ng-message='required') Please provide the cardholder&apos;s last name.
            .row
              .form-group.col-xs-7
                label(for='email') Email
                input.form-control(id='email', name='email', ng-model='$ctrl.purchaser.email', required='', autocomplete='email', type='email', maxlength='80', placeholder='Email address')
                .has-error(ng-messages='checkout.email.$error', ng-show='checkout.email.$dirty || checkout.$submitted', role='alert')
                  div(ng-message='required') Please provide the cardholder&apos;s email address.
                  div(ng-message='email') Please supply a valid email address for the cardholder.
              .form-group.col-xs-5
                label(for='phone') Phone
                input.form-control(id='phone', name='phone', ng-model='$ctrl.purchaser.phone', required='', autocomplete='tel', type='tel', maxlength='23', placeholder='Phone')
                .has-error(ng-messages='checkout.phone.$error', ng-show='checkout.phone.$dirty || checkout.$submitted', role='alert')
                  div(ng-message='required') Please provide the cardholder&apos;s phone number.
            .form-group
              label(for='instructions') Instructions
              textarea.form-control(id='instructions', name='instructions', ng-model='$ctrl.Cart.instructions', rows='2', cols='20', placeholder='Instructions for this purchase')
            .checkbox
              label
                input(name='isGift',type='checkbox', ng-model='$ctrl.Cart.isGift', value='true', ng-click='$ctrl.isGift()') 
                | This is a gift

            fieldset(ng-hide='!$ctrl.Cart.isGift')
              .row
                .form-group.col-xs-6
                  label(for='recipientFirstName') Recipient&apos;s first name
                  input.form-control(id='recipientFirstName', name='recipientFirstName', ng-model='$ctrl.recipient.firstName', ng-required='$ctrl.Cart.isGift', type='text', maxlength='14', placeholder="Recipient's first name")
                  .has-error(ng-messages='checkout.recipientFirstName.$error', ng-show='checkout.recipientFirstName.$dirty || checkout.$submitted', role='alert')
                    div(ng-message='required') Please provide the recipient&apos;s first name.
                .form-group.col-xs-6
                  label(for='recipientLastName') Last name
                  input.form-control(id='recipientLastName', name='recipientLastName', ng-model='$ctrl.recipient.lastName', ng-required='$ctrl.Cart.isGift', type='text', maxlength='20', placeholder="Recipient's last name")
                  .has-error(ng-messages='checkout.recipientLastName.$error', ng-show='checkout.recipientLastName.$dirty || checkout.$submitted', role='alert')
                    div(ng-message='required') Please provide the recipient&apos;s last name.
              .row
                .form-group.col-xs-7
                  label(for='recipientEmail') Email
                  input.form-control(id='recipientEmail', name='recipientEmail', ng-model='$ctrl.recipient.email', ng-required='$ctrl.Cart.isGift && $ctrl.Cart.treatment == "Email"', type='email', maxlength='80', placeholder="Recipient's email address")
                  .has-error(ng-messages='checkout.recipientEmail.$error', ng-show='checkout.recipientEmail.$dirty || checkout.$submitted', role='alert')
                    div(ng-message='required') Please provide the recipient&apos;s email address.
                    div(ng-message='email') Please supply a valid email address for the recipient.
                .form-group.col-xs-5
                  label(for='recipientPhone') Phone
                  input.form-control(id='recipientPhone', name='recipientPhone', ng-model='$ctrl.recipient.phone', ng-required='$ctrl.Cart.isGift', type='tel', maxlength='14', placeholder="Recipient's phone")
                  .has-error(ng-messages='checkout.recipientPhone.$error', ng-show='checkout.recipientPhone.$dirty || checkout.$submitted', role='alert')
                    div(ng-message='required') Please provide the recipient&apos;s phone number.
              .form-group
                  label(for='recipientAddress') Address
                  input.form-control(id='recipientAddress', name='recipientAddress', ng-model='$ctrl.recipient.address', ng-required='$ctrl.Cart.isGift && $ctrl.Cart.treatment == "Mail"', type='text', maxlength='255', placeholder="Recipient's address")
                  .has-error(ng-messages='checkout.recipientAddress.$error', ng-show='checkout.recipientAddress.$dirty || checkout.$submitted', role='alert')
                    div(ng-message='required') Please provide the recipient&apos;s street address.
              .row
                .form-group.col-xs-7
                  label(for='recipientCity') City
                  input.form-control(id='recipientCity', name='recipientCity', ng-model='$ctrl.recipient.city', ng-required='$ctrl.Cart.isGift && $ctrl.Cart.treatment == "Mail"', autocomplete='address-level2', type='text', maxlength='20', placeholder="Recipient's city")
                  .has-error(ng-messages='checkout.recipientCity.$error', ng-show='checkout.recipientCity.$dirty || checkout.$submitted', role='alert')
                    div(ng-message='required') Please provide the recipient&apos;s city.
                .form-group.col-xs-5
                  label(for='recipientState') State
                  input.form-control(id='recipientState', name='recipientState', type='text', ng-model='$ctrl.recipient.state', ng-change='$ctrl.recipient.state = $ctrl.recipient.state.toUpperCase()', maxlength='2', autocomplete='address-level1')
              .row
                .form-group.col-xs-5
                  label(for='recipientZipCode') ZIP code
                  input.form-control(id='recipientZipCode', name='recipientZipCode', ng-model='$ctrl.recipient.zipCode', ng-required='$ctrl.Cart.isGift && $ctrl.Cart.treatment == "Mail"', autocomplete='postal-code', type='text', maxlength='10', placeholder="Recipient's ZIP code")
                  .has-error(ng-messages='checkout.recipientZipCode.$error', ng-show='checkout.recipientZipCode.$dirty || checkout.$submitted', role='alert')
                    div(ng-message='required') Please provide the recipient&apos;s ZIP code.
              | Send gift card via &nbsp;&nbsp;
              label.radio-inline
                input(type='radio', name='treatment', ng-model='$ctrl.Cart.treatment', value='Email') 
                | Email 
              label.radio-inline
                input(type='radio', name='treatment', ng-model='$ctrl.Cart.treatment', value='Mail') 
                | Mail
              br
              br
            p Class cards and workshop purchases are non-refundable. Class cards expire six months from their purchase date.
          .panel-footer
            input.btn.btn-warning.pull-right(type='submit', name='placeOrder', value='Place Order', ng-disabled='(form.$valid && form.$submitted) || $ctrl.Cart.isEmpty()')
            br
            br

  .row(ng-show='$ctrl.pageName=="Order Confirmation"')
    .col-md-2
      img.img-responsive(src='/assets/images/seal.jpg')
    .col-md-6
      h2 Schoolhouse Yoga
      p 
        b Order {{ $ctrl.Cart.confirmation.orderNumber }}
        br
        | Paid via Credit Card on {{ $ctrl.Cart.confirmation.placedOn }}
      .row
        .col-md-4
          b Purchaser:
          br
          | {{ $ctrl.Cart.confirmation.purchaser.firstName }} {{ $ctrl.Cart.confirmation.purchaser.lastName }}
          br
          | {{ $ctrl.Cart.confirmation.purchaser.email }}
          br
          | {{ $ctrl.Cart.confirmation.purchaser.phone }}
          br
        .col-md-4(ng-show='$ctrl.Cart.isGift')
          b Recipient:
          br
          | {{ $ctrl.Cart.confirmation.recipient.firstName }} {{ $ctrl.Cart.confirmation.recipient.lastName }}
          br
          | {{ $ctrl.Cart.confirmation.recipient.address }}
          br(ng-show='$ctrl.Cart.confirmation.recipient.city && $ctrl.Cart.confirmation.recipient.state && $ctrl.Cart.confirmation.recipient.zipCode')
          | {{ $ctrl.Cart.confirmation.recipient.city }}, {{ $ctrl.Cart.confirmation.recipient.state }} {{ $ctrl.Cart.confirmation.recipient.zipCode }}
          br
          | {{ $ctrl.Cart.confirmation.recipient.email }}
          br
          | {{ $ctrl.Cart.confirmation.recipient.phone }}
          br
          br
      table.table.table-striped
        thead
          tr
            th Item
            th Qty
            th Each
            th.right Cost
        tbody
          tr(ng-repeat='cartItem in $ctrl.Cart.confirmation.cartItems')
            td {{ cartItem.name }}
            td {{ cartItem.quantity }}
            td {{ cartItem.price | currency:"$":0 }}
            td.right {{ cartItem.getTotal() | currency:"$":0 }}
        tfoot
          tr
            th.right(colspan='3') Grand Total
            th.right {{ $ctrl.Cart.confirmation.grandTotal | currency:"$":0 }}
      p(ng-show='$ctrl.Cart.confirmation.isGift || $ctrl.Cart.confirmation.instructions')
        b Order comments:
        br
        | {{ $ctrl.Cart.confirmation.isGift ? 'Send gift card via ' + $ctrl.Cart.confirmation.treatment : '' }}
        br
      p(ng-show='$ctrl.Cart.confirmation.instructions') Instructions:
        br
        | {{ $ctrl.Cart.confirmation.instructions }}
        br
      p Thanks for your order.